<!DOCTYPE html>
<html>
    <head>
        <title>Budget Tracker</title>
        <style>
            body {
                background-color: green;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                height: 100vh;
            }
            #budgetAmount, #perDiemRate, #spentAmount {
                border: 1px solid black;
            }
            h1, p, input, button, span {
                text-align: center;
            }
        </style>
    </head>
<body>
        <h1>Per Diem</h1>
		<p>Enter Per Diem Rate:</p>
        <input type="number" id="perDiemRate" onchange="updateRemainingBudget()">
        <p>Enter Total Expenses:</p>
		<input type="number" id="spentAmountPD" onchange="updateRemainingBudget()">
        <button onclick="addExpense()">Add Expense</button>
        <button onclick="removeExpense()">Remove Expense</button>
		<button onclick="clearData()">Clear</button>
        <p>Your total expenses: $<span id="totalExpensesPD">0</span></p>
        <p>Your remaining budget: $<span id="remainingBudgetPD">0</span></p>
        <button id="backButton" onclick="goToHomePage()">Home</button>
        
	<script>
            function goToHomePage() {
                window.location.href = "Homepage.html";
            }
            
            function addExpense() {
                const spentAmount = document.getElementById("spentAmountPD");
                const totalExpenses = document.getElementById("totalExpensesPD");
                const remainingBudget = document.getElementById("remainingBudgetPD");
                
                const expense = Number(spentAmount.value);
                const total = Number(totalExpenses.textContent);
                const remaining = Number(remainingBudget.textContent);
                
                totalExpenses.textContent = total + expense;
                remainingBudget.textContent = remaining - expense;
                
                spentAmount.value = "";
				localStorage.setItem('totalExpensesPD', totalExpenses);
            }
            
            function removeExpense() {
                const spentAmount = document.getElementById("spentAmountPD");
                const totalExpenses = document.getElementById("totalExpensesPD");
                const remainingBudget = document.getElementById("remainingBudgetPD");
                
                const expense = Number(spentAmount.value);
                const total = Number(totalExpenses.textContent);
                const remaining = Number(remainingBudget.textContent);
                
                totalExpenses.textContent = total - expense;
                remainingBudget.textContent = remaining + expense;
                
                spentAmount.value = "";
            }
            
            function updateRemainingBudget() {
                const perDiemRate = document.getElementById("perDiemRate");
                const totalExpenses = document.getElementById("totalExpensesPD");
                const remainingBudget = document.getElementById("remainingBudgetPD");
                
                const perDiem = Number(perDiemRate.value);
                const total = Number(totalExpenses.textContent);
                
                remainingBudget.textContent = perDiem - total;
				localStorage.setItem('remainingBudgetPD', remainingBudget);
            }
		
			window.onload = function() {
    			totalExpenses = Number(localStorage.getItem('totalExpensesPD')) || 0;
    			remainingBudget = Number(localStorage.getItem('remainingBudgetPD')) || 0;
    			totalExpensesElement.innerText = totalExpenses;
    			remainingBudgetElement.innerText = remainingBudget;
			}
		
			function clearData() {
    			totalExpenses = 0;
    			remainingBudget = 0;
    			totalExpensesElement.innerText = totalExpenses;
    			remainingBudgetElement.innerText = remainingBudget;
    			localStorage.removeItem('totalExpensesPD');
    			localStorage.removeItem('remainingBudgetPD');
			}
		
		
        </script>
</body>
</html>